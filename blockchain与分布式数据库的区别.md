## 区块链与分布式数据库的区别
[Blockchainと分散DBなどの違いとは](https://qiita.com/batch_/items/d5ecd98b4d3eee804003)

## 前篇：概念的介绍
---
### 什么是区块链

* 区块链是分布式数据存储、点对点传输、共识机制、加密算法等计算机技术的新型应用模式。 
* 区块链（Blockchain）是比特币的一个重要概念，它本质上是一个去中心化的数据库，同时作为比特币的底层技术，是一串使用密码学方法相关联产生的数据块，每一个数据块中包含了一次比特币网络交易的信息，用于验证其信息的有效性（防伪）和生成下一个区块。

---
### 数据库与其他类似的技术
* 在平时的开发过程中，我们也时常接触到数据库。例如：分布式数据库，分布式事务，文件服务器，共享文件夹等。然后基于区块链技术来说一下与这些技术的区别。

---
#### 数据库（Database）
* 我们可以把数据库理解为一个便于存储与检索的数据收集系统。

---
#### 分布式数据库
* 这里指的是在地理上分散的数据库中，存放着同样的数据的数据收集系统。
* 所以，通常情况下一个数据库发生了故障，由于在其他的数据库中也存放着同样的数据，所以即使数据难以恢复，也是没有问题的。
* 其次，普通的数据库会将所有的处理都集中在一台物理机上进行的处理，在分布式数据库中，由于同样的数据分散存放在不同的物理机上，所以可以将处理进行负荷分散。从用户的观点来看，与普通的数据库处理没什么两样。


##### 分布式数据库的数据同步技术分为 Replication与Duplication
* Replication：当发现其他的数据库有数据更新发生后，会相应的更新自己数据库中的数据。由于和分布式数据库的数量有关，是一个非常花时间的操作。然后，这也与单台数据库的性能相关，会有发生数据冲突的可能性。
* Duplication：在分布式数据库系统中，所有的更新数据操作都在Master数据库中来完成，然后向其他的数据库复制数据的技术。

---
#### 分布式事务
* 在数据库系统中也有区块链技术中的事务类似的概念。在数据库中将多条命令必须放在一起然后执行的最小命令集合称作为事务。这种包含运行在多台数据库上的命令的集合被称为分布式事务。
* 我们来举个栗子。例如，从A银行将100元转账到B银行，这个时候发生了什么呢？我们先从A银行的数据库中减去100元，然后向B银行的数据库中加100元，这样的一系列操作我们会用分布式事务来实现。横跨从A银行的数据库到B银行的数据库的事务就是分布式事务。然后，在分布式事务中所包含的2个命令，不管是那个银行的数据库中都是要被执行的。如果不这样的话，有可能发生在A银行中的金额被扣除但是没有被反映到B银行数据库的中这样的错误。
* 在分布式事务中，保证由复数个命令组成的集合在一个事务中正确被执行的设计被称作为两阶段提交（2 phase commit）。它是怎么执行的呢？先由模拟事务进行执行，等到A银行和B银行也都返回了期待的结果后，才认为事务被确实的执行了。
* 如果，一方没有返回任何结果，另外一方正确返回的情况下，这次的事务就被当作废弃处理。

---
#### 文件服务器
* 文件服务器可以同时允许多个访问者同时操作文件的服务器。文件服务器中可以对访问它的人进行访问权限的设定，为了避免工作中多次访问散落在各处的文件，使用文件服务器会是一个不错的选择。但是，如果一旦文件服务器发生了故障，会出现一些重要的文件难以恢复的问题。

---
#### 共享文件夹
* 共享文件夹的功能与文件服务器基本一致。它是将在PC中特定的文件夹或文件在网络中让其他的PC可以看到或者访问的一项技术。共享文件夹同时也可以对访问权限进行设定。

---
### 云存储
* 云存储从功能上来说与文件服务器或共享文件夹没有什么太大的区别。近年来，由于云的普及，我们不仅可以使用PC还可以在智能手机上访问保存在Dropbox、Google Drive等云存储服务上文件。
* 我觉得云存储和文件服务器最大的区别应该是对于存储容量的限制吧，云服务器免费的可能只有几个GB的空间，文件服务器的话只要自己喜欢多大的容量都没问题吧。
* 其次，云存储中所保存的文件也可以通过URL的方式以只读的形式共享给其他人。

---
## 后篇：正文
* 介绍了区块链和其他类似的技术的概念后，让我们来实际比较一个下吧。

### 分布式数据库和区块链
* 就像上面我们说的，最终分布式数据库给我们的感觉它是一个CS结构（中心化）中的一个特殊的节点，数据被以散乱的方式被保存在这个节点中。
* 关于这一点，分散保存的数据（账本）是和区块链类似，但是在区块链中不存在一个中心化的特殊节点来指挥数据以何种分散的形式进行保存。然而，在分布式数据库中，就有这么一个节点在控制着数据的保存方式。而对于被分散保存的数据是否正确那只能基于对这个节点的信赖了吧。
* 区块链的场合，数据的正确性是基于PoW或PoS等这种共识算法来保证的，在这一点上，分布式数据库与区块链还是由很大的区别的。

### 分布式事务与区块链
* 到这里为止，对于分布式事务是否可以与区块链进行比较试着调查了一下，结果发现这样去比较的话不太合适。
* 为什么呢？分布式事务是针对多个数据库执行一系列的操作，然而，区块链在各个节点上只有一个数据库(保存账本的区块链)而已。

### 文件服务器、共享文件夹与区块链
* 文件服务器和共享文件夹与区块链中的联盟连和私有链有点类似。
* 无论哪一种技术，都需要给访问数据的用户一定的权限的。
* 与文件服务器给需要浏览服务器内部文件的用户设定权限类似，区块链也好Hyperledger Fabric这样的面向商业的区块链开发框架也好都是基于在信赖的组织（人）之间构建的一个区块链网络来实现的。
* 说到与区块链的区别，基本上在区块链上数据被保存后，是不能进行修改或是删除的。但是文件服务器的话，有权限的用户可以随意的向文件服务器上传文件或是删除文件。
* 还有一点，在区块链上被保存的与在文件服务器上保存的，从数据本身来说应该也有很大的区别吧。
* 例如，在文件服务器上，文件和数据被原模原样的进行保存，然而，在区块链上把谁更新了什么数据怎么更新的这样的日志保存起来。（译者猜测原文作者只调查了bitcoin的block中的数据，所以才会得出这样的结论。）与Git有点类似的感觉。
* 还有，文件服务器本身对于其中的数据被有权限的用户进行了篡改是没有什么制约或控制的。但是在区块链中，由于区块链的特性所决定了，被保存在区块链中的数据是不能被篡改的。

### 云存储与区块链
* 云存储与区块链在数据管理是服务器自身还是由第三者（Dropbox或是Google）来管理，这一点上有点差异。
* 顺便提一下，在区块链中，数据的管理不是由哪一个拥有特殊权限的节点来控制的，而是有所有节点都做了数据正确性的确认后数据才能被保存的。
* 还有，在数据的共享这一点上，区块链和云存储也有点类似。但，云存储的话，数据都是被集中保存在服务器提供商的云存储服务器中的，如果服务被终止的话，数据也有不能被共享了，这一点上完全由依赖服务提供商。

### 总结
* 这篇文章，是作者源自大家对“在区块链中被保存或共享的数据在用其他的方式例如分布式数据库、文件服务器等方式不是也一样可以进行保存或者共享吗？”这个疑问。
* 结论，使用区块链之外的技术实现数字货币也不是不可以，但是应该是非常困难的吧。但，由区块链实现的数字货币以外，其他应该也没有什么了吧。